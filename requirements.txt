# PPI-HGCN Requirements
# 基于双曲几何的蛋白质相互作用预测项目

# ============================================================================
# CORE DEPENDENCIES (必需)
# ============================================================================

# PyTorch ecosystem
torch>=1.9.0,<2.1.0
torch-geometric>=2.0.0,<2.7.0
torch-scatter>=2.0.0
torch-sparse>=0.6.0

# Hyperbolic geometry
geoopt>=0.3.0,<0.5.0

# Data processing and scientific computing
pandas>=1.3.0,<2.1.0
numpy>=1.20.0,<1.25.0
scipy>=1.7.0,<1.12.0
networkx>=2.6.0,<3.2.0
scikit-learn>=1.0.0,<1.4.0

# Configuration and utilities
PyYAML>=5.4.0,<7.0.0
tqdm>=4.62.0
requests>=2.25.0
pathlib>=1.0.1

# Community detection for negative sampling
python-louvain>=0.15,<0.17

# ============================================================================
# OPTIONAL DEPENDENCIES (推荐安装)
# ============================================================================

# Protein sequence processing (可选，用于ESM-2特征提取)
fair-esm>=0.4.0; python_version>="3.8"
biotite>=0.36.0

# Advanced logging and monitoring (可选)
wandb>=0.12.0,<0.17.0
tensorboard>=2.7.0,<2.16.0

# Visualization (可选)
matplotlib>=3.4.0,<3.9.0
seaborn>=0.11.0,<0.14.0
plotly>=5.0.0,<5.18.0

# Jupyter notebook support (可选)
jupyter>=1.0.0
ipykernel>=6.0.0
jupyterlab>=3.0.0

# Advanced optimization (可选)
optuna>=2.10.0,<3.5.0

# ============================================================================
# DEVELOPMENT DEPENDENCIES (开发环境)
# ============================================================================

# Code quality and testing
pytest>=6.2.0
pytest-cov>=2.12.0
pytest-xdist>=2.5.0  # 并行测试
black>=21.0.0,<24.0.0
flake8>=3.9.0,<7.0.0
mypy>=0.910,<1.8.0
isort>=5.0.0

# Documentation
sphinx>=4.0.0
sphinx-rtd-theme>=1.0.0

# ============================================================================
# GPU加速依赖 (根据CUDA版本选择其一)
# ============================================================================

# 对于CUDA 11.8 (推荐)
# torch-scatter -f https://data.pyg.org/whl/torch-1.13.0+cu118.html
# torch-sparse -f https://data.pyg.org/whl/torch-1.13.0+cu118.html
# torch-geometric -f https://data.pyg.org/whl/torch-1.13.0+cu118.html

# 对于CUDA 12.1
# torch-scatter -f https://data.pyg.org/whl/torch-2.0.0+cu121.html
# torch-sparse -f https://data.pyg.org/whl/torch-2.0.0+cu121.html
# torch-geometric -f https://data.pyg.org/whl/torch-2.0.0+cu121.html

# ============================================================================
# 系统要求
# ============================================================================
# Python >= 3.8, < 3.12
# CUDA >= 11.3 (推荐 11.8 或 12.1)
# RAM >= 16GB (推荐 32GB+)
# GPU >= 8GB VRAM (推荐 16GB+ 如 V100, A100, RTX 3090, RTX 4090)

# ============================================================================
# 安装说明
# ============================================================================
# 1. 基础安装：
#    pip install -r requirements.txt
#
# 2. 开发环境：
#    pip install -r requirements.txt pytest black flake8 mypy
#
# 3. 完整环境：
#    pip install -r requirements.txt fair-esm wandb tensorboard jupyter
#
# 4. GPU安装 (CUDA 11.8):
#    pip install torch==1.13.0+cu118 -f https://download.pytorch.org/whl/cu118/torch_stable.html
#    pip install -r requirements.txt
#
# 5. 验证安装：
#    python -c "import torch; print('CUDA available:', torch.cuda.is_available())"
#    python scripts/test_installation.py
